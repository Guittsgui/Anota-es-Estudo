<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NodeJS - Basic </title>
    <link rel="stylesheet" href="../../styles/style.css">
</head>
<body>
    <main>
        <p><a href="../../index.html">Voltar</a></p>
        <nav class="nodeNav">
            <ul><a href="#">Introdução</a></ul>
            <ul><a href="#nodecore">Node Core Modules</a></ul>
            <ul><a href="#npmFund"> NPM </a></ul>
            <ul><a href=""> Express</a></ul>
        </nav>
        <h1> Node-JS - Basic</h1>
        <h2> Para que serve ?</h2>
        <p> No início o javascript era utilizado apenas para rodar em navegadores. Com o passar do tempo o seu poder foi ficando cada vez mais forte devido a diversas tecnologias que foram surgindo em seu universo. Uma dessas tecnologias é o NodeJS. Ele nos permite desenvolver back-end, front-end, micro-services, API'S, tudo isso com o Javascript.</p>
        <p> E quais as vantagens de utilizar NODEJS ? Uma das suas maiores vantagens é sua alta velocidade e escalabilidade. Outra grande vantagem que ele utiliza o JS, fazendo com que inciantes não precisem aprender outra linguagem de programação para desenvovler o back-end, e sim podem utilizar o JS, linguagem já utilizada no Front. </p>
        <p> Mas, afinal, o que é o NODEJS? É impossível rodar JavaScript sem que tenhamos um ambiente próprio para isso. Por isso surge o Node. Node é um JS Runtime Enviroment, ou seja, é um ambiente que executa o JS em um ambiente completamente exclusivo a ele. Vale ressaltar que o NodeJS não é um framework como o React,Vue,etc.</p>
        <p> E como ele funciona? O node funciona com base no Event Loop, ou seja, como o node é single  threaded ele não bloqueia nada, trabalha de forma assíncrona, fazendo com que o Node trabalhe de maneira muito mais rápida que o Apache por exemplo. </p>
        <p> Depois de já sabermos tudo sobre o que é, agora chegou a hora de instalar, para isso, acesse o seu site <a href="https://nodejs.org/en/">NodeJS</a> e realize o download.</p>
    
        <h2>Módulos</h2>
        <p> Node JS é baseado em módulos.  Módulos nada mais são do que scripts reaproveitáveis constantemente utilizados em Node. Geralmente os projetos terão diversos módulos instalados. Eles são divididos em três categorias:  </p>
        <ul>
            <Li> Internos: Módulos que nós desenvolvemos</Li>
            <Li> Core Modules: Módulos que já vem com o próprio Node</Li>
            <Li> Externos: módulos de terceiros que instalamos via NPM</Li>
        </ul>
        <h3> Módulo interno </h3>
        <p> Módulos internos são criados nas pastas do nosso projeto. Para utilizarmos, precisamos exportar o módulo, utilizando a instrução module.exports por exemplo. E também será necessário importa-los onde queiramos utiliza-los, e para isso utilizaremos a instrução require. No exemplo abaixo exportamos uma função (módulo), e utilizamos ela em outro arquivo.
        <div class="photoInfo">
            <img src="../../img/nodejs/mod.exp.png" alt="">
            <img src="../../img/nodejs/req.png" alt="">
        </div>
        <p> Também podemos importar e exportar de uma forma mais moderna, lançada no ES6. Para isso, precisamos modificar os nossos arquivos para a extensão .mjs. Assim opderemos utilizar o export default e o import.  </p>
        <div class="photoInfo">
            <img src="../../img/nodejs/es6export.png" alt="">
            <img src="../../img/nodejs/es6import.png" alt="">
        </div>
        <h3> Core Modules</h3>
        <p> No Node temos diversos Core Modules, que são os que vem prontos para serem utilizados. Eles resolvem diversos problemas como: trabalhar com arquivos e diretórios, servir aplicações etc. Precisamos imoprtar estes módulos no projeto para que posasmos utilizar. </p>
        <p> Por padrão nomeamos a variável com o mesmo nome do módulo importado, para assim facilitar a legibilidade de terceiros.</p>
        <div class="photoInfo">
            <img src="../../img/nodejs/path.png" alt="">
        </div>
        <p> No node também é possível passarmos argumentos via linha de comando. Passamos eles após a execução do arquivo. Os argumentos ficam em um array chamado: processes.argv, onde podemos fazer loops e resgatar seus valores enviados. Recurso mais utilizado de programador para programador, porém é importante saber de sua utilidade. Por exemplo, ao startarmos o programa, colocando node .\index.js nome=Guilherme, estamos passando o nome via argumento do terminal, na qual podemos pegar dentro do programa : </p>
        <div>
            <img src="../../img/nodejs/args.png" alt="">
        </div>
        <h3> Módulos Externos </h3>
        <p> Os módulos externos serão inicializados via NPM. Node Package Manager, como o próprio nome já diz, é o gerenciador de pacotes do node. Para isso, precisamos inicializar o npm no projeto, com o comando: NPM INIT ou NPM INIT - Y. A partir daí os módulos ficam mapeados e podemos instalar novos módulos externos, que serão automaticamente salvos na pasta node_modules. Para instalar qualquer pacote, basta utilizar o comando: npm install nomeDoPacote.</p>
        <p> Aqui abaixo, instalaremos o minimist, que é um pacote que nos ajuda a receber os argumentos do tópico acima de uma maneira mais simples. Para isso utilizamos o comando: npm install minimist. E estará pronto para ser utilizado. Com o minimist passamos o parametro da seguinte forma : node index.js --nome=Guilherme</p>
        <img src="../../img/nodejs/minimistArg.png" alt="">
        <p> Como outro exemplo, utilizaremos um módulo chamado Chalk, que nos permite "colorir" a exibição do Console, nos proporcionando uma melhor visualização em cores do mesmo. Para isso, npm install chalk.</p>
        <img src="../../img/nodejs/chalk.png" alt="">
        <h2> Lendo Input Dados</h2>
        <p> Através de um coreModule do Node (ReadLine), podemos iteragir via terminal com o usuário, realizando perguntas e respostas. O node realiza uma pergunta, o usuário entra com a resposta e assim podemos processar e utilizar a resposta.</p>
        <img src="../../img/nodejs/readline.png" alt="">
        <p> Essa forma acima é a forma utilizando o nodejs puro, porém possuimos formas mais simples e digamos que melhores para trabalharmos com inputs, como é o caso do inquirer. O inquirer é um modulo externo (npm), baseado em Promises, o que torna sua utilização mais simples. Dentro dele, as perguntas são alocadas dentro de arrays, e cada pergunta estará dentro de um objeto, que possuirá name e message como atributos. </p>
        <img src="../../img/nodejs/inquirer.png" alt="">
        <h2> Event Emitter </h2>
        <p> O Event Emitter se comporta como os eventos do navegador estudados em JS DOM. Podemos ativar um trecho de código em alguns opntos da aplicação desejados. É um Core Module chamado Events. Precisamos instanciar a classe EventEmitter que vem dentro do módulo Event e então utilizar os métodos para atingir o objetivo desejado. </p>
        <p> No exemplo abaixo, criamos um event emitter mais básico possível, no qual entre antes durante e deopis, o durante será chamado via evento.</p>
        <img src="../../img/nodejs/eventEmitter.png" alt="">
        <h2> Sync e Async </h2>
        <p> Em node temos duas opções de executar métodos que são conhecidos como sincronos e assíncronos. Síncrono é quando o código acontece linha após linha, esperando, não importa quanto tempo demore. Já a forma assíncrona é quando o código continua progredindo e em algum momento ele nos dará a resposta pendente.</p>
        <h2> Erros no Node</h2>
        <p> Temos duas formas principais de lidar com erros no Node, que são gerando ou evidenciando erros. Através do throw, uma forma de encerrar um programa, gerando um novo erro. E também via try/catch, que é uma forma de evidenciar algo que deu errado em um bloco de código e exibir a mensagem de erro para o usuário.</p>
        <div>
            <img src="../../img/nodejs/errcatch.png" alt="">
            <img src="../../img/nodejs/errthrow.png" alt="">
        </div>

        <h1 id="nodecore"> Node Core Modules </h1>
        <p> Aqui iremos explorar todos os Core Modules que são mais utilizados na vida real dentro do universo Node. </p>
        <p> Mesmo que não coloquemos diretamente algum desses módulos em nossa aplicação, provavelmente algum módulo externo estará fazendo uso deles, por isso é de extrema importância saber o que eles fazem, para futuramente entender com clareza o que ocorre por debaixo dos panos. A base e o alicerce são de extrema importância para manusear Node.</p>
        <ul> HTTP: Módulo para criar servidores HTTP (acessar aplicação, base do Express)</ul>
        <ul> Path: Extrair informações de paths(caminhos) de arquivos.</ul>
        <ul> FS: File System, leitura e escrita de arquivos, diretórios. </ul>
        <ul> URL: Módulo para trabalhar com URL, endereços, Query Params, Domínio, etc.</ul>
        <h2> Módulo HTTP: </h2>
        <p> É uma forma de criar um servidor HTTP com um cormodule do node. Basicamente recebemos uma requisição e enviamos código HTML com o resposta, por exemplo.Vamos utilizar alguns métodos como createServer por exemplo, para a criação do servidor. E também o Listen, que irá determinar uma porta para receber essa resposta.</p>
        <p> Basicamente quando trabalhamos na web, recebemos uma requisição, e em seguida enviamos uma resposta para ele. </p> 
        <p> No exemplo abaixo, criaremos um servidor HTTP, sendo ouvido na porta 3000, e colocando esse servidor para ser ouvido, e como callback informando que está tudo ok.  </p>
        <img src="../../img/nodejs/httpNod.png" alt="">
        <p> Existem alguns serviços do node que ocupam a aba do terminal para continuar rodando, e um desses serviços é o modulo HTTP. Para isso é importante saber que utilizando CTRL + C, ele será interrompido, tombado, finalizado. Isso é útil quando existe algum problema no código também. </p>
        <p> Avançando no tópico servidores, começaremos a retornar páginas HTML ao invés de uma simples mensagem como na foto acima. Para isso será necessário implementarmos mais recursos. Podemos adicionar um status code no retorno, com a propriedade statusCode. Mudar os headers para text/html e também retornar o html pelo método end do http.</p>
        <img src="../../img/nodejs/httpHtml.png" alt="">
        <h2> Módulo URL </h2>
        <p> O módulo URL serve para decompor uma url que passamos para o método parse. Podemos resgatar diversas informações como host, path, search, query, etc. A partir dessas informações podemos alterar a lógica do nosso código.</p>
        <img src="../../img/nodejs/url.png" alt="">
        <h2> Módulo FS </h2>
        <p> O módulo FS serve para trabalhar com arquivos e diretórios. Através deles podemos ler e escrever em arquivos. Possui uma utilização interessante em log de sistema por exemplo.</p>
        <p> Via FS podemos ler arquivos como visto acima(ReadFile), e também escrever em arquivos, (writeFile). Além de escrever em arquivos, também é possível atualizar arquivos, utilizando o (appendFile) Estas escritas pode estar associada a um conjunto de operações, como o envio de informações de um usuário por exemplo.</p>
        <p> Com o módulo FS também podemos trabalhar com diretórios(pastas). O método existis pode envidenciar se um diretório existe ou não, e o mkdir pode criar um diretório.</p>
        <img src="../../img/nodejs/mkdir.png" alt="">

        <h2> Módulo Path </h2>
        <p> Com o path conseguimos extrair diversas informações sobre caminhos e arquivos. Com eles podemos extrair informações como nomne do diretório, nome do arquivo, extensão do arquivo, etc.</p>
        <img src="../../img/nodejs/pathM.png" alt="">
        <p> Com a função resolve é possível saber qual o path completo até o arquivo alvo. E com a função join, podemos formar um path dinâmico, com variáveis e valores fixos. São duas funções muito importantes no universo Node. </p>
        <img src="../../img/nodejs/pathFinal.png" alt="">

        <h1 id="npmFund"> Fundamentos do NPM</h1>
        <h2> O que é NPM ?</h2>
        <p> Quando começamos a utilizar NODE em cenários reais, utilizaremos NPM o tempo inteiro. Ele é o principal gerenciador de pacotes do NodeJS(Também existe o Yarn entre outros, mas o Node é o principal). NPM significa Node Package Manager. A maioria dos projetos que você encontrar em NODE terá a atuação do NPM. Ele nos permite instalar, remover, atualizar, executar scripts entre outros. A criação de um projeto com NPM sempre gera um arquivo chamado PACKAGE.JSON, que será como o "coração" do projeto. Podemos pegasr pacotes NPM de empresas, usuários, podemos inclusive criar um pacote e deixar disponível para todos. </p>
        <p> Para um desenvolvedor, voce nao precisa saber tudo sobre o NPM. Na grande verdade, voce utilizará poucos comandos para instalar remover e atualizar dependências. É analogo ao Linux, voce nao precisa saber como funciona o Kernel do Linux milimétricamente para usa-lo.</p>
        <p> Para inciar um projeto, podemos utilizar o comando <span>npm init</span> . Seremos questionados para configurar algumas opções iniciais como o nome do projeto, etc. Caso queira pular tudo e aceitar tudo, basta colocar o comando <span>npm init -y</span> . Ao criarmos, instântaneamente será criado um arquivo package.json condensando as informações do projeto.</p>
        <h2> NPM - Pacotes/Módulos. </h2>
        <p> Para instalar um pacote vamos utilizar o comando npm install nomeDoProjeto. Quando fazemos desta maneira, a instalação de uma pasta node_modules é criada. Nela todos os arquivos de módulos de terceiros serão armazenados. Sempre que rodamos o comando npm install, a pasta node_modules é recriada com todos os módulos do package.json. Ou seja, no git, nunca sobe a pasta node_modulos, pois ao usarmos o <span>npm install</span> , ele já irá reinstalar denovo.</p>
        <p> Todos os módulos existentes no NPM estão catalogados <a href="https://www.npmjs.com/">Clicando Aqui</a>.</p>
        <p> Como NPM, Node são muito utilizados globalmente, os pacotes são constantementes passados por processo de atualização por seus desenvolvedores. Então, para isso temos o comando <span>npm update</span> que vai fazer a atualização de todos os pacotes instalados no package.json. Porém, em casos específicos iremos atualizar apenas um módulo em específico, e para isso, utilizamos o comando <span>npm update nomeDoPacote</span>. E quando saber quando tem atualização disponível? <span>npx npm-check-updates -u </span></p>
        <h2>Dependências de Desenvolvedor</h2>
        <p> Há uma possibilidade de instalar pacotes apenas para o ambiente de desenvolvimento. Eles ficarão separados do packaged.json. Ou seja, na build de produção esses módulos não serão instalados. Um exemplo: Servidor para ambiente local, como o Nodemon. Para essa instalação utilizamos o comando <span>npm install --save-dev chalk</span>. </p>
        <h2> Scripts de NPM. </h2>
        <p> É possível criar rotinas com o npm, ou seja, executamos uma série de comandos com apenas um. Utilizamos o comando <span>npm run script</span> onde script é o nome da sequência de comandos que configuramos no package.Json . Exemplo comum, é configurar o start, para rodarmos o projeto com npm start.</p>
        <h2> Pacote Global </h2>
        <p> Um pacote global não fica salvo na pasta node_modules do projeto, ele fica salvo no computador do usuário. A vantagem é que podemos acessá-los em qualquer local via terminal. Utilizamos o comando: <span>npm install -g loadash </span>. </p>
        <h2> Executando  e Removendo Pacotes </h2>
        <p> Alguns pacotes são scripts executaveis que resultam em alguma ação no nosso computador. Como por exemplo a isntalação do React, é feita pelo npx. Desta maneira uma série de processos são simplificados por este executor. </p>
        <p> Já para removermos um pacote utilizado, basta colocar o comando <span> npm unistall nomeDoPacote</span>. Isso faz com que o pacote seja removido do package.json também. </p>
    </main>
</body>
</html>